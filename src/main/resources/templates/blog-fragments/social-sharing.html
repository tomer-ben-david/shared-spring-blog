<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <!-- Social Sharing Component with SVG icons -->
    <div th:fragment="social-sharing" class="sb-social-sharing">
        <span class="sb-social-sharing-label">Share:</span>
        <div class="sb-social-sharing-buttons">
            <!-- Twitter/X -->
            <a th:href="${'https://twitter.com/intent/tweet?url=' + #uris.escapeQueryParam(canonicalUrl) + '&text=' + #uris.escapeQueryParam(post.title)}"
               target="_blank"
               rel="noopener noreferrer"
               class="sb-social-btn sb-social-twitter"
               aria-label="Share on Twitter">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
            </a>

            <!-- Facebook -->
            <a th:href="${'https://www.facebook.com/sharer/sharer.php?u=' + #uris.escapeQueryParam(canonicalUrl)}"
               target="_blank"
               rel="noopener noreferrer"
               class="sb-social-btn sb-social-facebook"
               aria-label="Share on Facebook">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/>
                </svg>
            </a>

            <!-- LinkedIn -->
            <a th:href="${'https://www.linkedin.com/sharing/share-offsite/?url=' + #uris.escapeQueryParam(canonicalUrl)}"
               target="_blank"
               rel="noopener noreferrer"
               class="sb-social-btn sb-social-linkedin"
               aria-label="Share on LinkedIn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"/>
                    <circle cx="4" cy="4" r="2"/>
                </svg>
            </a>

            <!-- Copy Link Button -->
            <button type="button"
                    class="sb-social-btn sb-social-copy"
                    th:data-url="${canonicalUrl}"
                    onclick="sbCopyShareUrl(this)"
                    aria-label="Copy link to clipboard">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"></path>
                </svg>
            </button>
        </div>
    </div>

    <script>
        function sbCopyShareUrl(btn) {
            var url = btn.getAttribute('data-url');
            navigator.clipboard.writeText(url).then(function() {
                btn.classList.add('sb-copied');
                setTimeout(function() {
                    btn.classList.remove('sb-copied');
                }, 2000);
            }).catch(function() {
                prompt('Copy this link:', url);
            });
        }
    </script>
</body>
</html>
